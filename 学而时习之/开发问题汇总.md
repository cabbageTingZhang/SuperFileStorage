#温故而知新, 可以为师矣 (之开发问题汇总)
## <a name="目录"></a>目录
###<a name="开发中遇到的问题"></a>开发中遇到的问题
1. [屏蔽黑夜模式](#屏蔽黑夜模式])
2. [iOS UrlEnCode加密需要注意](#iOS UrlEnCode加密需要注意)


#### <a name="屏蔽黑夜模式"></a>屏蔽黑夜模式  [↩](#开发中遇到的问题)
在info.plist文件里添加一下键值对就可以屏蔽黑夜模式, 但是需要注意的是在用低版本Xcode编译的时候, 不需要以下键值, 否则应该在上传App Store构建版本时会出问题, 好像只有在Xcode11版本以上打包时, 才可以使用以下方式屏蔽黑夜模式

```
<key>UIUserInterfaceStyle</key>
<string>Light</string>
```
#### <a name="iOS UrlEnCode加密需要注意"></a>iOS UrlEnCode加密需要注意 [↩](#开发中遇到的问题)
今天跟安卓的同学对接一个问题, 发现了一个及其坑爹的BUG, 安卓在进行UrlEncode编码时, 将空格转义为了"+", 但是iOS这边进行UrlEncode编码时, 是将空格转义为"%20", 这不坑爹的嘛, 在对接的时候两边数据对不上
在Stack Overflow上找到了解释[URL encoding the space character: + or %20?](https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20)

简单来说就是：%20是比较老一点的写法，现在的做法是：url中的“？”前的空格要转义成“%20”，“？”之后的空格要转义成“+”！

而Jave系统中自带的方法是这么做的, 但是在iOS系统中调用**[str stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet URLQueryAllowedCharacterSet]];** 是将空格转义为了**"%20"**

经测试后
![image.png](https://upload-images.jianshu.io/upload_images/1367029-04cdd32c42b8f30f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
后来这边的处理方法为
特殊字符使用**[str stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet characterSetWithCharactersInString:@"#%<>[\\]^`{|}\"]+"].invertedSet];**
这个方法去进行UrlEnCode转义, 

然后iOS端在解析之前, 先将未转义的字符串中的**"+"**替换为**" "**空格

然后再进行**[str stringByRemovingPercentEncoding]**;iOS端就可以正常解析使用, 暂时只能想到这个方法
